<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üñ•Ô∏è DYNAMIC VAULT</title>
    <style>
        /* üéÆ RETRO STYLING */
        body {
            font-family: 'Courier New', monospace;
            background: #0d0208;
            color: #00ff41;
            margin: 0;
            padding: 20px;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect width="16" height="16" fill="%2300ff41"/></svg>'), auto;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            border: 1px dashed #00ff41;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            text-shadow: 0 0 5px #00ff41;
        }
        
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .file-card {
            border: 1px solid #00ff41;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
        }
        
        .file-card:hover {
            box-shadow: 0 0 10px #00ff41;
        }
        
        .file-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .btn {
            background: transparent;
            border: 1px solid #00ff41;
            color: #00ff41;
            padding: 8px;
            width: 100%;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
            cursor: pointer;
        }
        
        .btn:hover {
            background: rgba(0, 255, 65, 0.1);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* CRT EFFECTS */
        .crt::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 255, 65, 0.05),
                rgba(0, 255, 65, 0.05) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 9999;
        }
    </style>
</head>
<body class="crt">
    <div class="container">
        <h1>DYNAMIC FILE VAULT</h1>
        <div class="files-grid" id="filesContainer">
            <!-- Cards will appear here automatically -->
            <div class="loading">Scanning for files...</div>
        </div>
    </div>

    <script>
        // Configuration
        const config = {
            scanInterval: 3000, // Check every 3 seconds
            knownFiles: {} // Tracks existing files
        };

        // Initialize
        function init() {
            scanFiles();
            setInterval(scanFiles, config.scanInterval);
        }

        // Scan for files
        async function scanFiles() {
            try {
                // Get all files in directory (simulated)
                const files = await getAvailableFiles();
                
                // Add new files
                files.forEach(file => {
                    if (!config.knownFiles[file.name]) {
                        addFileCard(file);
                        config.knownFiles[file.name] = true;
                    }
                });
                
                // Remove deleted files
                Object.keys(config.knownFiles).forEach(filename => {
                    if (!files.some(f => f.name === filename)) {
                        removeFileCard(filename);
                        delete config.knownFiles[filename];
                    }
                });
                
            } catch (error) {
                console.error("Scan error:", error);
            }
        }

        // Simulate getting available files
        async function getAvailableFiles() {
            // In a real app, this would fetch from server
            return [
                { name: "HelpKitToolNeededStuff.zip", size: "215 KB" },
                { name: "SpecialFiles.rar", size: "178 KB" },
                { name: "SpecialWebsite.html", size: "342 KB" }
            ];
        }

        // Add file card
        function addFileCard(file) {
            const container = document.getElementById('filesContainer');
            
            // Remove loading message if present
            const loading = container.querySelector('.loading');
            if (loading) loading.remove();
            
            const card = document.createElement('div');
            card.className = 'file-card';
            card.dataset.filename = file.name;
            
            card.innerHTML = `
                <div class="file-name">${file.name}</div>
                <div class="file-size">${file.size}</div>
                <button class="btn" data-filename="${file.name}">
                    DOWNLOAD
                </button>
            `;
            
            container.appendChild(card);
        }

        // Remove file card
        function removeFileCard(filename) {
            const card = document.querySelector(`[data-filename="${filename}"]`);
            if (card) {
                card.style.transform = 'scale(0.9)';
                card.style.opacity = '0';
                setTimeout(() => card.remove(), 300);
            }
        }

        // Handle downloads
        function downloadFile(filename) {
            // Create a blob with sample content
            const content = `This is a simulated download of ${filename}\n\n` +
                          `File generated by Dynamic Vault\n` +
                          `Timestamp: ${new Date().toLocaleString()}`;
            
            const blob = new Blob([content], { type: 'application/octet-stream' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            // Clean up
            setTimeout(() => URL.revokeObjectURL(url), 100);
        }

        // Event listeners
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('btn')) {
                const filename = e.target.dataset.filename;
                downloadFile(filename);
            }
        });

        // Start the system
        init();
    </script>
</body>
</html>
